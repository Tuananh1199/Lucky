<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√¨ X√¨ Cute 2026 üßß B√≠nh Ng·ªç</title>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --cute-pink: #ff6b81;
            --cute-red: #ee5253;
            --cute-yellow: #feca57;
            --bg-soft: #fff5f5;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Comfortaa', cursive;
            background-color: var(--bg-soft);
            background-image: radial-gradient(#ffcfd2 1px, transparent 1px);
            background-size: 20px 20px;
            color: #444;
            padding: 10px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Cute */
        .header {
            text-align: center;
            padding: 30px 15px;
            background: white;
            border-radius: 40px;
            box-shadow: 0 10px 0 #fbdbdb;
            margin-bottom: 30px;
            border: 4px solid var(--cute-pink);
        }

        .header h1 {
            font-family: 'Pacifico', cursive;
            color: var(--cute-red);
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .horse-icon {
            font-size: 4em;
            display: inline-block;
            animation: bounce 2s infinite;
            cursor: pointer;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-15px) scale(1.1); }
        }

        /* Section Tabs */
        .section-title {
            text-align: center;
            margin: 20px 0;
            font-size: 1.2em;
            font-weight: bold;
            color: var(--cute-pink);
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .category-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 20px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 5px 0 #ddd;
        }

        .btn-small { background: #ff9ff3; color: white; box-shadow: 0 5px 0 #e082d8; }
        .btn-big { background: #feca57; color: white; box-shadow: 0 5px 0 #e6b033; }
        .category-btn:active { transform: translateY(3px); box-shadow: 0 2px 0 #999; }

        /* L√¨ x√¨ Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 15px;
            padding: 10px;
        }

        /* Responsive cho Mobile: Hi·ªán 4 c·ªôt */
        @media (max-width: 480px) {
            .cards-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }
            .header h1 { font-size: 1.8em; }
        }

        .card {
            aspect-ratio: 3/4;
            perspective: 1000px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%; height: 100%;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner { transform: rotateY(180deg); }

        .card-front, .card-back {
            position: absolute;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
        }

        .card-front {
            background: linear-gradient(135deg, #ff6b6b, #ee5253);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .card-front::after {
            content: "üßß";
            font-size: 2em;
        }

        .card-back {
            background: white;
            color: var(--cute-red);
            transform: rotateY(180deg);
            font-size: 0.7em;
            font-weight: bold;
            text-align: center;
            padding: 5px;
        }

        /* Modal k·∫øt qu·∫£ */
        .result-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            z-index: 1000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .result-box {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            border: 8px solid var(--cute-yellow);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .result-box h2 { color: var(--cute-pink); margin-bottom: 10px; }
        .result-box .amount { font-size: 2.5em; color: var(--cute-red); font-weight: 900; margin: 15px 0; }

        .stats-bar {
            background: white;
            padding: 15px;
            border-radius: 20px;
            margin-top: 30px;
            display: flex;
            justify-content: space-around;
            font-size: 0.8em;
            font-weight: bold;
        }

        .hidden-trigger { opacity: 0; position: fixed; bottom: 0; right: 0; width: 50px; height: 50px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="horse-icon">üê¥</div>
        <h1>L√¨ X√¨ B√© Ngoan</h1>
        <p>Ch·ªçn m·ªôt chi·∫øc bao l√¨ x√¨ xinh x·∫Øn nh√©! ‚ú®</p>
    </div>

    <div class="btn-group">
        <button class="category-btn btn-small" onclick="generatePack('small')">üå∏ L·∫•y May (100 bao)</button>
        <button class="category-btn btn-big" onclick="generatePack('big')">üåü May M·∫Øn (100 bao)</button>
    </div>

    <div class="section-title" id="currentType">ƒêang hi·ªÉn th·ªã: Bao L√¨ X√¨ L·∫•y May</div>

    <div class="cards-grid" id="grid">
        </div>

    <div class="stats-bar">
        <div>üå∏ L∆∞·ª£t: <span id="count">0</span></div>
        <div>üí∞ T·ªïng: <span id="total">0ƒë</span></div>
    </div>
</div>

<div class="result-overlay" id="resultOverlay" onclick="closeResult()">
    <div class="result-box">
        <h2>Ch√∫c M·ª´ng B·∫°n! üßß</h2>
        <p>B·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c</p>
        <div class="amount" id="winAmount">0ƒë</div>
        <button class="category-btn btn-small">Tuy·ªát v·ªùi!</button>
    </div>
</div>

<script>
    let totalMoney = 0;
    let totalPicks = 0;

    // Danh s√°ch s·ªë ƒë·∫πp
    const luckyLucky = [10000, 12000, 16000, 18000, 26000, 28000, 36000, 39000, 52000, 68000, 79000, 86000, 88000, 99000, 100000];
    const superLucky = [88888, 99999, 123456, 168168, 188888, 222222, 262626, 282828, 333333, 363636];

    function generateAmount(type) {
        if (type === 'small') {
            // T·ª∑ l·ªá: 80% d∆∞·ªõi 50k, 20% t·ª´ 50k-100k
            if (Math.random() > 0.2) {
                let lowValues = luckyLucky.filter(v => v <= 50000);
                return lowValues[Math.floor(Math.random() * lowValues.length)];
            } else {
                let highValues = luckyLucky.filter(v => v > 50000);
                return highValues[Math.floor(Math.random() * highValues.length)];
            }
        } else {
            // T·ª∑ l·ªá cho t√∫i to: C√†ng l·ªõn t·ª∑ l·ªá c√†ng √≠t
            let rand = Math.random();
            if (rand < 0.6) return superLucky[0]; // 88k
            if (rand < 0.8) return superLucky[1]; // 99k
            if (rand < 0.9) return superLucky[Math.floor(Math.random() * 3) + 2]; // 123k - 188k
            return superLucky[Math.floor(Math.random() * superLucky.length)]; // Random all
        }
    }

    function generatePack(type) {
        const grid = document.getElementById('grid');
        const title = document.getElementById('currentType');
        grid.innerHTML = '';
        title.innerText = type === 'small' ? "ƒêang hi·ªÉn th·ªã: üå∏ Bao L√¨ X√¨ L·∫•y May" : "ƒêang hi·ªÉn th·ªã: üåü Bao L√¨ X√¨ May M·∫Øn";
        
        for (let i = 0; i < 100; i++) {
            const amount = generateAmount(type);
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-inner">
                    <div class="card-front"></div>
                    <div class="card-back">${formatMoney(amount)}</div>
                </div>
            `;
            card.onclick = function() {
                if (!this.classList.contains('flipped')) {
                    this.classList.add('flipped');
                    showResult(amount);
                }
            };
            grid.appendChild(card);
        }
        // Hi·ªáu ·ª©ng nh·∫π khi ƒë·ªïi pack
        window.scrollTo({ top: 400, behavior: 'smooth' });
    }

    function formatMoney(n) {
        return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + "ƒë";
    }

    function showResult(amt) {
        totalMoney += amt;
        totalPicks++;
        
        document.getElementById('winAmount').innerText = formatMoney(amt);
        document.getElementById('count').innerText = totalPicks;
        document.getElementById('total').innerText = formatMoney(totalMoney);
        
        setTimeout(() => {
            document.getElementById('resultOverlay').style.display = 'flex';
            // Ph√°o hoa
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff6b81', '#feca57', '#ee5253']
            });
        }, 500);
    }

    function closeResult() {
        document.getElementById('resultOverlay').style.display = 'none';
    }

    // Kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu
    window.onload = () => generatePack('small');

</script>
</body>
</html>
